\chapter{Estado del arte}

El campo de la minería de opinión en redes sociales es relativamente nuevo, debido, sin duda, a la novedad de las redes sociales. Twitter fue fundado en 2006 y Facebook en 2005, lo que nos da un promedio de 14 años de vida para las redes sociales más famosas. Por otro lado, hay que tener en cuenta que su implantación en la sociedad no se produjo desde su fundación, por lo que su "edad" es aún menor. Si nos centramos solo en los aspectos informáticos del estudio, también son notablemente nuevos, porque a pesar de haber sido ampliamente estudiados, todavía estamos en los albores de lo que la minería de datos podría ofrecer en el futuro. La novedad de estas técnicas y el predominio de técnicas supervisadas que abordan problemas similares, hace que existan pocos enfoques previos completamente relacionados con el campo de estudio, que aúna reglas de asociación y minería de medios sociales. Sin embargo, también es uno de los campos de investigación que genera más interés entre la comunidad científica.

\section{Trabajos relacionados}

En esta sección veremos trabajos relacionados con el nuestro. Para facilitar la comprensión se han dividido en distintas secciones en función de las tecnologías utilizadas y el ámbito de aplicación. Por último, finalizaremos el capítulo con una sección dedicada a nuestra propuesta y nuestra aportación al estado del arte. 

\subsection{Reglas de asociación y microblogging }

Uno de los principales estudios en el campo de las reglas de asociación es el propuesto en 2000 por Silverstein et al. \cite{silverstein2000scalable}, donde se utilizan técnicas de reglas de asociación para el conocido problema de la cesta de la compra, que relaciona la compra de un determinado producto con la posibilidad de comprar uno diferente. Después de esto, el tema ha sido ampliamente estudiado y aplicado multitud de artículos de investigación, aunque la aplicación de reglas de asociación en redes sociales no se abordaría por primera vez hasta 2010. El artículo es propuesto por Oktay et al. \cite{oktay2010causal} y estudia la relación entre la aparición de ciertos términos en las preguntas del sitio web de Stack Overflow con la aparición de ciertos términos en las respuestas a estas preguntas. En cierto modo está relacionado con nuestro estudio, en el que intentamos obtener e interpretar la relación entre los términos, aunque las técnicas y el dominio difieren completamente. El uso de las reglas de asociación en las redes sociales ha sido mostrado en documentos como el propuesto por Erlandsson et al. \cite{erlandsson2016finding}, en el que se presenta un análisis basado en las reglas de asociación para encontrar influencers en Facebook.

Si nos centramos en nuestro dominio, Twitter, el trabajo de Pak y Paroubek \cite{pak2010twitter}, ha sido un punto de partida para destacar a Twitter como una fuente importante de análisis de opinión y sentimiento. Atendiendo al uso de las reglas de asociación en Twitter se diversifica el dominio de los estudios y aplicaciones. Las propuestas en \cite{zainol2018association} y \cite{margono2014mining} proponen la detección de patrones de palabras asociados al ciberbulling para detectar estos comportamientos a través de la red social Twitter, aunque en estos experimentos el dominio es muy pequeño y el número de tweets es muy limitado. Esta especificidad del dominio se encuentra también en el trabajo \cite{hamed2014twitter} donde Hamed et al. propusieron un sistema basado en reglas de asociación para determinar la co-ocurrencia de hashtags en el campo del tabaquismo, con el objetivo de crear un sistema experto para dejar de fumar. También en el campo de la minería de patrones, pero en el campo de los seguros y con un mayor volumen de tweets de entrada para el proceso de minería, encontramos el trabajo propuesto por Mosley y Roosevelt \cite{mosley2012social}. En este trabajo los autores utilizan las reglas de la asociación y el clustering para obtener patrones interesantes relacionados con las personas y los seguros. Nuestra propuesta estaría ligada a estos artículos, con la diferencia de que no usamos prefiltrado de tweets y la cantidad de estos es mucho mayor para que los patrones que se obtengan puedan ser considerados más fuertes, porque aparecen con más representación. 

Otro campo de aplicación en el que encontramos reglas de asociación en Twitter es el resumen de información, ya sea de los usuarios por su influencia en la red de microblogging \cite{abuInfluential} o de los elementos más relevantes (tweets, post) \cite{phan2018tweet}. En estas áreas, la teoría de grafos y otros tipos de reglas de asociación, como las reglas máximas, también entran en la ecuación. Una vez más, en ambas propuestas encontramos un gran problema en el número de tweets cuyo volumen es muy bajo. Esto hace muy difícil transferir los resultados a un problema real, donde el volumen de datos y variables sería mayor. Por otro lado, ambas propuestas destacan el poder de las reglas de la asociación para resumir la información y obtener patrones en la red social, algo que nuestro trabajo también hace pero a mayor escala (es decir, con un mayor número de tweets).

Todos estos enfoques muestran que las reglas de asociación se utilizan con suficiente regularidad en el dominio de las redes de microblogging como Twitter, aunque, como se ha comprobado, con una seria limitación con el tamaño de la entrada. Esta limitación es salvada por algunos trabajos que podrían ser enmarcados dentro del alcance de Big Data. Aquí encontramos el trabajo propuesto por Adedoyin-Olowe et al. \cite{adedoyin2016rule} y el trabajo propuesto por Fernandez-Basso et al \cite{fernandez2019finding}. En el primero se extraen reglas de asociación sobre un stream de datos, por el contrario en el segundo trabajo se extraen item sets frecuentes, con el fin de usarlos para detección de eventos en el campo de los deportes y de la política. En el primer trabajo se usa un gran numero de tweets de  alrededor de 3,8 millones, aunque se particionan para simular posteriormente el streaming. También enmarcado dentro del paradigma de Big Data, pero solo para la metodología porque el volumen de tweets es muy pequeño, encontramos el trabajo \cite{kakulapati2019mining} que hace un sistema de recomendaciones de películas que se nutre de Imdb \footnote{Internet Movie Database} y Twitter. Además del volumen de datos que el sistema puede procesar, nuestra propuesta difiere de estas dos visiones, ya que nuestro sistema puede obtener reglas de asociación mientras que en el presentado por Fernández-Basso sólo se obtienen conjuntos de ítems frecuentes. Además, los otros dos sistemas propuestos por  \cite{adedoyin2016} y \cite{kakulapati2019mining}, utilizan reglas de asociación para la detección de tópicos en streaming ignorando el análisis de sentimientos sobre, por ejemplo, los temas detectados, algo que si hace nuestra propuesta. De acuerdo a los patrones revelados sobre los políticos, partidos o usuarios, se realiza una etapa posterior de identificación de sentimientos que ofrece una gran cantidad de información al usuario final. 

\subsection{Reglas de asociación y análisis de sentimientos }

En cuanto a los campos del análisis de sentimientos y reglas de asociación, hay pocos estudios relacionados debido al predominio de los métodos de clasificación \cite{zhou2013sentiment} en estas áreas, pero, vale la pena mencionar el reciente interés en este tema.  Encontramos estudios como el de Hai et al. \cite{hai2011implicit} donde se aplica un enfoque basado en reglas de asociación, co-ocurrencia de palabras y clustering para obtener las características más comunes respecto a ciertos grupos de palabras que pueden representar una opinión. El objetivo del estudio es dar un paso adelante en el análisis de sentimientos, que normalmente solo clasifica una opinión. El método propuesto no solo clasifica, sino que también ofrece al usuario las palabras o características de opinión se han empleado en la clasificación. El trabajo de Yuan et al. propone una nueva medida para la discriminación de términos frecuentes sin orientación aparente de las opiniones, lo que favorece el posterior proceso de análisis de sentimientos. Vinculado a este punto está el estudio realizado por Dehkharghani et al. \cite{dehkharghani2014sentimental} donde se propone el uso de reglas de asociación para vincular la co-ocurrencia de términos en tweets, los cuales son posteriormente clasificados de acuerdo a los sentimientos de estos términos vinculados en las reglas obtenidas. En términos generales, el vínculo entre estos estudios es el uso de reglas de asociación y conjuntos de elementos frecuentes para mejorar el proceso de análisis de sentimientos. Esto difiere de nuestro estudio en que una vez que se extraen las reglas, utilizamos un enfoque jerárquico de las reglas para mejorar la interpretación de las reglas de la asociación usando para ello análisis de sentimientos. 

En esta via de investigación, hemos encontrado dos trabajos que proponen un enfoque mixto de reglas de asociación y análisis de sentimientos para obtener patrones en Twitter. El propuesto por Mamgain et al. \cite{mamgain2016categorical} y el propuesto por Bing et al. \cite{bing2014public}. Ambos proponen una etapa previa de análisis de sentimientos, asociando sentimientos a cada elemento y, posteriormente, obtienen patrones utilizando el algoritmo Apriori. El primer trabajo crea un modelo que puede ayudar a los estudiantes a elegir la mejor universidad de la India y el segundo lo aplica para la predicción del mercado de valores. La fuerza de usar ambas herramientas desde un enfoque mixto es por lo tanto contrastada en la literatura, aunque en ambas propuestas el número de tweets que emplearon es muy limitado. Nuestra propuesta difiere de estas en el ámbito de aplicación así como el volumen de tweets utilizados es mucho mayor y puede considerarse un problema de Big Data debido a su gran volumen. Nuestra propuesta también difiere de las anteriores ya que utilizamos reglas de asociación generalizadas para el análisis de sentimientos, obteniendo así patrones de sentimientos más fuertes que los que se han visto anteriormente. 


\subsection{Reglas de asociación generalizadas}

Los enfoques jerárquicos  en el proceso de extracción de reglas de asociación han sido últimamente bastante estudiados, debido en gran parte a la necesidad de condensar la información que representan, por ejemplo, para mejorar los procesos de visualización. Un ejemplo reciente de este uso lo presentan Hahsler y Karpienko \cite{hahsler2017visualizing} donde se propone una visualización basada en matrices, que hace uso de una simplificación jerárquica de los ítems que forman las reglas de la asociación. En el presente estudio, el enfoque jerárquico también se utiliza para simplificar o generalizar las reglas, pero en lugar de hacerlo por categorías de elementos, lo hacemos por sentimientos.  Otros enfoques que utilizan reglas de asociación generalizadas en Twitter son el análisis de \cite{cagliero2012analyzing} y \cite{cagliero2013discovering} ambos propuestos por Cagliero y Fiori. En el primero, los autores utilizan reglas de asociación dinámicas, es decir, reglas en las que la confianza y  soporte cambian con el tiempo, con el fin de obtener datos sobre los hábitos y comportamientos de los usuarios en Twitter, y en el segundo, estas reglas se generalizan para obtener reglas más fuertes. En este último, los autores proponen generalizar las reglas obtenidas de los tweets según taxonomías como lugares, tiempo o contexto, de manera que puedan ser utilizadas para analizar la propagación o evolución de los contenidos en el tiempo. El presente trabajo utiliza reglas de asociación generalizadas utilizando los sentimientos obtenidos en el proceso anterior de análisis de sentimientos, en lugar de utilizar lugares o contextos como las otras propuestas descritas en esta sección. Con este uso, el sistema puede partir de un conjunto de datos proveniente de redes sociales y obtener patrones que muestren la distribución de los sentimientos en los datos, basados en un tema específico sobre el que se desea obtener información, todo ello sin elevados tiempos de computo lo que lo hace muy interesante para el problemas de Big Data. 

Para concluir esta sección se ha recopilado en la Tabla \ref{tablaref} los trabajos relacionados y revisados que utilizan Twitter como corpus para el posterior proceso de minería de datos.

\begin{table}
	\label{tablaref}
	\centering
	\begin{adjustbox}{width=\textwidth}
		\begin{tabular}{llllll} 
			\hline
			\multicolumn{1}{|l|}{Reference}                             & \multicolumn{1}{l|}{N tweets} & \multicolumn{1}{l|}{Purpose}                                                                                                                                                                  & \multicolumn{1}{l|}{AS} & \multicolumn{1}{l|}{PM} & \multicolumn{1}{l|}{RAG}  \\ 
			\hline
			\cite{zainol2018association}             & 8275                              & Detección de cyberbulling patterns.                                                                                                                                                           & No                                       & Si                                  & No                                                   \\
			\cite{margono2014mining}                  & 14000                             & Detección de cyberbulling patterns.                                                                                                                                                           & No                                       & Si & No                                                   \\
			\cite{hamed2014twitter}                   & 35000                             &  Co-ocurrencia de hashtags para sistema experto contra el tabaco                                                                                                                      & No                                       & Si                                  & No                                                   \\
			\cite{mosley2012social}                   & 68370                             & Patrones en el ámbito de los seguros.~                                                                                                                                                & No                                       & Si                                  & No                                                   \\
			\cite{abuInfluential}                     & 24026                             &  Identificación de usuarios activos durante ataques terroristas.~                                                                                                                         & No                                       & Si~                                 & No                                                   \\
			\cite{phan2018tweet}                      & 500                               & Resumen de tweets sobre Obama.~                                                                                                                        & No                                       & Si~                                 & No                                                   \\
			\cite{kakulapati2019mining}               & 20000                             & Recomendación de películas.~                                                                                                                                                                       & No                                       & Si                                  & No                                                   \\
			\cite{adedoyin2016rule}                   & 224291-3837291                    &  Detección de eventos. ~                                                                                                                                            & No                                       & Si                                  & No                                                   \\
			\cite{zhou2013sentiment}                 & 57000                             & Análisis de las elecciones de Australia. ~                                                                                                                                    & Si                                      & No                                   & No                                                   \\
			\cite{das2019extracting} & 80563                             & Obtención de patrones para promover el ciclismo. ~                                                                                                                                               & Si                                      & Si                                  & No                                                   \\
			\cite{mamgain2016categorical}             & 8.772                             &  Patrones sobre las mejores universidades de India. ~                                                                                                               & Si                                      & Si                                  & No                                                   \\
			\cite{bing2014public}                     & 150000                            & Stock prediction.~                                                                                                                                                                            & Si                                      & Si                                  & No                                                   \\
			\cite{dehkharghani2014sentimental}        & 3000                              & Resumir conversaciones de Twitter. ~                                                                                                     & Si                                      & Si                                  & No                                                   \\
			\cite{cagliero2012analyzing}              & 450000                            & Detección de tópicos. ~                                                                                                                                                                            & No                                       & Si                                  & Si                                                  \\
			\cite{cagliero2013discovering}            & 450000                            & Estudios de propagación de información. ~                                                                                                             & No                                       & Si                                  & Si                                                  \\
			\textbf{Proyecto}                                  & \textbf{2800000}                  & \textbf{Obtener patrones  y sentimientos sobre las elecciones del 28A .~} & \textbf{Si}                             & \textbf{Si}                         & \textbf{Si}                                        
		\end{tabular}
		
	\end{adjustbox}
	\caption{Comparación de propuestas acorde al numero de tweets, el uso de análisis de sentimientos (AS), pattern mining (PM) y reglas de asociación generalizadas (RAG).}
\end{table}
	
	\subsection{Nuestra propuesta}
	Nuestra propuesta presenta un nuevo enfoque mixto para los campos de la minería de patrones y el análisis de sentimientos basado en dos técnicas bien diferenciadas:  Reglas de la Asociación y Análisis de Sentimientos. El presente trabajo propone combinar ambos aspectos utilizando el análisis de sentimientos para enriquecer el posterior proceso de obtención de reglas de asociación. Esto difiere prácticamente de todos los estudios anteriores, en los que se aplican reglas de asociación para mejorar el análisis de sentimientos posterior, clasificando las entidades textuales, como los tweets, en buenas, neutrales o malas opiniones sin obtener patrones sobre los factores que implican esos resultados.
	
	La contribución de este estudio a los campos del pattern mining y minería de medios sociales es:

	\begin{itemize}
		\item La propuesta de una metodología capaz de trabajar con un número muy alto de tweets que puede ser considerado Big Data de una manera eficiente. Este punto difiere de otros estudios porque el volumen de datos estudiado en la mayoría de ellos es muy limitado y está muy lejos de los problemas reales.
		\item Se ha llevado a cabo una revisión detallada de los estudios publicados que aplican las reglas de la asociación en el campo de la minería de datos (incluyendo el análisis de Twitter) y la minería de medios sociales. 
		\item Finalmente, realizamos un estudio y análisis de sentimientos basado en reglas de asociación generalizadas, capaz de resumir un enorme conjunto de tweets en 8 reglas basadas en las 8 emociones caracterizadas por Plutchik \cite{plutchik2001nature}. 
	\end{itemize}
